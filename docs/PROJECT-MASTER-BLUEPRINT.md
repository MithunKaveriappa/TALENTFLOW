# PROJECT MASTER BLUEPRINT (Official Project Documentation)

**Last Updated:** February 18, 2026 (Revision: Full-Page Notification Hub & Executive Settings Implemented)  
**Status:** Live Implementation / Active Development

This is the primary source of truth for the TalentFlow ecosystem. It contains comprehensive technical specifications, business logic, and architectural patterns.

---

## 0. Unified UI Architecture (2026 "Matrix" Design)

To ensure a seamless, high-performance experience, TalentFlow uses a unified layout system across all candidate and recruiter dashboard features.

### 0.1 Shared Sidebar System

- **Recruiter Sidebar**: Centralized navigation suite ([RecruiterSidebar.tsx](apps/web/src/components/RecruiterSidebar.tsx)) with blue-themed "Matrix" accents. Dynamically handles **Feature Locking** by checking `profileScore` to disable restricted routes for "Do It Later" recruiters.
- **Candidate Sidebar**: Dedicated indigo-themed navigation ([CandidateSidebar.tsx](apps/web/src/components/CandidateSidebar.tsx)) for talent-facing tools.
- **Verification Hub**: Integrated compact status center in the sidebar that displays the user's current `assessment_status` (In-progress, Not Started, or Completed) and provides direct "Complete Now" action shortcuts.

### 0.2 Standardized Navigation Suite

| Functional Area    | Recruiter Labels   | Candidate Labels |
| :----------------- | :----------------- | :--------------- |
| **Home**           | Dashboard          | Dashboard        |
| **Pipeline (A)**   | Applied Pipeline   | Applications     |
| **Matching**       | Recommended Talent | -                |
| **Talent Search**  | Candidate Pool     | -                |
| **Primary Action** | Post a Job         | Job Board        |
| **Management**     | Jobs Posted        | -                |
| **Signals**        | Notifications      | Notifications    |
| **Intelligence**   | Career GPS         | -                |
| **Organization**   | Employer Branding  | -                |
| **Social**         | Feed               | Feed             |
| **Identity**       | Profile            | Profile          |
| **System**         | Settings           | Settings         |

### 0.4 Profile & Organizational Intelligence Ecosystem

The **Identity Hub** (Recruiter Profile) is critical for matching and trust verification. Unlike standard profiles, it captures behavioral organizational signals:

- **Sales Model Alignment**: Categorizes companies as Inbound, Outbound, or Hybrid.
- **Deal Size Tiers**: Segments companies by `<$10k`, `$10k-$50k`, `$50k-$150k`, and `$150k+ Enterprise`.
- **AI Synthesis**: AI-driven Bio generation ensuring consistent high-quality "Employer Brand" signals across the platform.

### 0.3 Navigation UX

- **Global Logout**: Standardized "Logout" action in the sidebar and top-right of every dashboard header for immediate accessibility.
- **Header Sync**: Page headers are dynamically synchronized with sidebar labels (e.g., "Ecosystem Feed" evolved to a cleaner "Feed").
- **Fixed Layout**: 64-unit persistent sidebar with responsive `ml-64` main content areas for consistent flow.

---

The TalentFlow assessment is a hybrid evaluation engine that combines **Semantic AI matching** (Generative) with **Validated Psychometric seeding**. It aims to move beyond simple keyword matching to verify actual expertise, logic, and character traits.

---

## 2. Seniority-Based Budgets & Weighting

The assessment length and complexity dynamically scale based on the candidate's reported experience level.

### 2.1 The Budget & Weighting Table

| Experience Band | Total Questions | Resume AI | Skill Case Study | Behavioral | Psychometric |
| :-------------- | :-------------: | :-------: | :--------------: | :--------: | :----------: |
| **Fresher**     |        8        |    20%    |       10%        |    35%     |     35%      |
| **Mid-Level**   |       10        |    20%    |       20%        |    30%     |     30%      |
| **Senior**      |       13        |    20%    |       30%        |    25%     |     25%      |
| **Leadership**  |       16        |    25%    |       35%        |    20%     |     20%      |

### 2.2 Category Definitions

- **Resume AI Deep Dive**: Dynamically generated by Gemini 1.5 Flash based on the candidate's parsed CV (Career gaps, role consistency, specific achievements).
- **Skill Case Study**: High-pressure technical scenarios based on the candidate's self-reported top skills. Requires justifying a specific technical decision.
- **Behavioral (Seeded)**: Questions pulled from a bank of 800+ validated prompts targeting traits like _Resilience_, _Communication_, and _Adaptability_.
- **Psychometric (Seeded)**: Targeted at character drivers such as _Growth Potential_, _Emotional Stability_, and _Ambition_.

---

## 3. The Scoring Mechanism (0-100 Profile Score)

### 3.1 The 0-6 Dimensional Grading

Every response is evaluated by a multi-dimensional AI Grader on a scale of 0 to 6:

- **Relevance**: Alignment with the prompt.
- **Specificity**: Use of concrete examples/data.
- **Clarity**: Communication effectiveness.
- **Ownership**: Accountability and initiative.

### 3.2 Candidate Profile Score Calculation

The final Profile Score (0-100) is a weighted average of these component scores, normalized across the total response set.

### 3.3 The Recruiter "Trust Score" Matrix

TalentFlow uses two distinct algorithmic layers to evaluate candidate suitability:

1.  **Trust Score (Used in Candidate Pool)**:
    - **Formula**: `(Psychometric Score * 0.6) + (Behavioral Score * 0.4)`
    - **Usage**: A general reliability signal displayed on the candidate card.

2.  **Culture Match Score (Used in NeuralMatch Recommendations)**:
    - **Formula**: `(Psychometric Score * 0.7) + (Behavioral Score * 0.3)`
    - **Usage**: A high-tier behavioral alignment signal. Proactive discovery requires a **minimum threshold of 60%** for a candidate to be recommended.

Raw psychometric and behavioral metrics are purged from the API payload before delivery to protect candidate data privacy.

---

## 4. Candidate Workflows & Gating

### 4.1 Onboarding Flow & Gating

The candidate onboarding is a 6-step conversational flow designed to build trust and gather high-quality data.

1.  **Experience Selection**: Defines the seniority band (Fresher to Leadership).
2.  **Resume Intelligence**: AI parsing or interactive manual builder for a professional PDF.
3.  **Skill Enrichment**: Confirmation of core technical and soft skills.
4.  **Identity Verification**: Upload of Aadhaar/Passport for KYC.
5.  **Terms & Conditions**: Final legal consent step.
6.  **Onboarding Completion**: Unlocks the dashboard.

- **Strict Dashboard Gating**: The primary candidate dashboard ([page.tsx](apps/web/src/app/dashboard/candidate/page.tsx)) operates on a "3-Signal Lock" system. Access to Job Boards and Career Tools is denied until three criteria are met:
  1.  **Assessment**: `assessment_status` is `completed`.
  2.  **Identity**: Aadhaar/KYC is verified.
  3.  **Consent**: Platform terms are accepted.
- **Visual Progress**: Incomplete signals are displayed as "LOCKED" cards with direct action buttons to ensure a 100% completion rate before any applications.

### 4.2 Retake Functionality

- Accessible via **Profile Settings**.
- Action: Resets the assessment session and responses for a fresh evaluation.
- **Best Score Logic**: If the candidate scores lower on a retake than their previous attempt, the system **keeps the higher old score**.
- **Performance Reset**: Unlocks the `experience_band` for editing, allowing candidates who have upskilled to re-level their profile.

### 4.3 Profile Integrity & Data Locking

To maintain a high-trust environment for recruiters, candidate profiles are **physically locked** once an assessment is completed.

- **Experience Band Lock**: Candidates cannot change their seniority level (e.g., from "Mid-Level" to "Senior") after completing an assessment tailored to that band. This prevents "hunting" for easier questions.
- **Skill Freeze**: Core skills verified during the assessment are marked with a `LOCKED` badge and cannot be removed without a **Performance Reset** (Retake).
- **Modification Rule**: Non-grading fields (Phone, Location, Bio) remain editable.

---

## 5. Security & Anti-Cheat (Zero-Tolerance)

### 5.1 Tab Switching (Anti-Cheat)

- **Strike 1**: Warning prompt.
- **Strike 2**: Immediate session termination.
- **Penalty**: User is added to `blocked_users` and permanently banned from the platform.

### 5.2 Time-Boxing

- **Standard Questions**: 60 seconds to respond.
- **Case Studies**: 90-120 seconds (depending on complexity).
- **Failure**: A timeout results in a 0.0 score for that specific question.

### 5.3 Application Guardrails (Anti-Spam)

To prevent "Easy Apply" spam and ensure candidates only apply to high-relevance roles:

- **Daily Application Limit**: A strict hard-limit of **5 applications per day**.
- **Enforcement**: This is enforced at the database level ([candidate_service.py](apps/api/src/services/candidate_service.py)) via a 24-hour ISO date window check.
- **UX**: The Job Board displays a "Daily Signal Count (X/5)" and disables "Apply" buttons once the quota is exhausted.

---

## 6. Recruiter Workspace & Pipeline Architecture

The recruiter workspace is a high-stakes management interface designed to prioritize quality and process integrity.

### 6.1 The Dual Pipeline Strategy

1.  **Applied Pipeline (Category A)**:
    - **Purpose**: Manage reactive applicants who proactive applied to a job.
    - **Match Detection**: Automatically flags "Skill Matches" for candidates possessing ≥2 key skills or ≥40% JD alignment.
    - **Orchestration**: Integrated workflow for **Shortlisting**, **Interviewing** (via Jitsi), and **Offering**.
    - **Search & Status Navigation**: Compact real-time search and 6-stage status chips for inventory management.
    - **Elite Hub Integration**: Automatic chat thread activation for shortlisted/invited candidates and deactivation upon rejection.

2.  **Recommended Talent (Category B)**:
    - **Purpose**: Proactive sourcing of the "Elite 1%."
    - **Matching Logic**: 70% Psychometric / 30% Behavioral weighting.
    - **Filter Logic**: Focuses on cultural and character alignment over mere keyword matching.

3.  **Jobs Posted (Inventory Management)**:
    - **Purpose**: A command-and-control center for all active and historical roles.
    - **Lifecycle Controls**: Supports real-time toggling (Active/Paused), final closure, and hard deletion.
    - **Architect Mode**: Dedicated editing interface for "Blueprint Reconstruction"—allowing recruiters to modify job DNA without starting from scratch.
    - **Search Optimization**: Compact multi-signal filters (Search string + Status chips) for low-latency navigation.

4.  **Global Candidate Pool (Elite Discovery Hub)**:
    - **Purpose**: A proactive sourcing engine for all verified talent on the platform.
    - **Proactive Sourcing**: Recruiters can discover and engage candidates before they apply to any specific job.
    - **Elite Invite**: High-fidelity invitation system allowing direct connection to active or unlisted roles.
    - **Deep Hydration (View Profile)**: Integrated "Double-Fetch" logic for high-performance talent scanning.

### 6.2 Interview Scheduling & Virtual Rooms\*\*:

- **Jitsi Integration**: Automated generation of secure Jitsi Meet URIs (`TalentFlow-<app_id>`) upon scheduling. Links are persistent and synchronized between candidate and recruiter dashboards.
- **UTC Standardization**: All timestamps are handled in UTC and converted to local time via the frontend (`date-fns`) for global team coordination.
- **Status Gating**: Interview UI is only accessible once the application moves to the `interview_scheduled` status.

### 6.3 Recruiter Dashboard "Hard Locks"

To maintain platform integrity and ensure high-trust matching, recruiters who skip the initial DNA assessment encounter functional gates:

- **Prop Gating**: The [layout.tsx](apps/web/src/app/dashboard/recruiter/layout.tsx) fetches the company profile score and drills it down to the sidebar and page components.
- **LockedView UI**: Features like **Career GPS** and **Candidate Intelligence** are wrapped in a `LockedView` component that provides a call-to-action to complete the assessment.
- **Functional Disable**: Sidebar links for locked features are visually muted and pointer-events are disabled until `profile_score > 0`.

### 6.4 The Cumulative Hiring Funnel

The primary analytics hub for recruiters utilizes a cumulative logic model:

- **Funnel Progression**: Calculates the total volume of talent passing through each stage (`applied` + `shortlisted` + `interviewed` + `hired`).
- **Optimal Health Signal**: Based on conversion ratios between stages (e.g., Shortlist-to-Interview ratio).
- **Visual Feedback**: A multi-stage progress component on the dashboard provides immediate visibility into pipeline efficiency.

### 6.5 Candidate Pool Discovery (Elite Talent Ecosystem)

The Candidate Pool is the platform's primary proactive sourcing engine, allowing recruiters to discover high-signal talent before they apply to any specific role.

#### A. High-Density Discovery Architecture

The interface ([pool/page.tsx](apps/web/src/app/dashboard/recruiter/hiring/pool/page.tsx)) uses a high-density, 4-column "Elite Talent" grid with specialized `CandidateCard` components.

- **Vertical Experience Bands**: Talent is automatically segmented into Fresher, Mid, Senior, and Leadership bands for rapid navigation.
- **Signal Signal (Trust Score)**: Visual indicator (0-100%) representing the candidate's verified psychometric and behavioral alignment.

#### B. Deep Hydration Strategy

To maintain low latency, the system uses a **Double-Fetch Strategy**:

1. **Summary Scan**: Initial load of lightweight candidate records (Name, Role, Primary Skills).
2. **Deep Profile Hydration**: On-click fetch from `GET /recruiter/candidate/{id}` that populates a specialized **Discovery Mode** of the profile modal.
   - **Pruned Controls**: Specialized UI filters job-specific tabs (Application Forms, Interview Schedulers) to focus on the candidate's professional pedigree.
   - **Signed Resume Support**: Real-time generation of temporary signed URLs for original resume PDFs stored in the `resumes` bucket.

#### C. Elite Invite & Ghost Roles

Recruiters can move from discovery to engagement without a public job posting:

- **Direct Application Creation**: Inviting a candidate creates a `job_application` record with an `invited` status.
- **Ghost Job Hosting**: If a recruiter selects **"+ Other / Unlisted Role"**, the system creates a private, unlisted `job` record. This allows:
  - Immediate opening of a **Controlled Chat** thread.
  - Tracking of the candidate's journey through a role that isn't publicly visible.

### 6.6 Employer Branding (Visual Organization Hub)

The Employer Branding suite ([branding/page.tsx](apps/web/src/app/dashboard/recruiter/organization/branding/page.tsx)) provides a high-fidelity environment for companies to manage their professional digital presence.

#### A. Visual Logic (The Palette)

To maintain a high-trust, elite aesthetic, branding is managed through a **Curated Selection Engine**:

- **18 Curated Presets**: A grid of professional "Executive Suite" colors (Slate, Indigo, Emerald, Rose, etc.) for rapid setup.
- **Unlimited Spectral Hub**: A specialized card that enables custom hex-color selection for brands with specific identity guidelines.

#### B. Asset Hierarchy

Companies can showcase their culture through a structured asset system:

- **Company Identity (Logo)**: Primary identification branding.
- **Culture Vault (3x Photos)**: A triple-slot gallery for "Life At" office photos, team events, or workspace ambiance.
- **Storage Strategy**: Managed via Supabase buckets `company-logos` and `company-assets` using signed paths.

#### C. Profile Signal Weighting

Updating branding assets is not purely aesthetic; it is a **Hydration Event**:

- **Sync Event**: Saving branding updates triggers `recruiter_service.sync_completion_score`.
- **Score Impact**: Completing the branding profile (Logo + 3 Photos + Color Selection) significantly increases the company's **Profile Score** (Signal Power).

#### 6.7 Team Management & Organization Hierarchy

TalentFlow supports a Multi-Recruiter organizational structure, allowing teams to collaborate on job postings and application management within a shared workspace.

- **Corporate Identification**: Every recruiter is linked to a single `company_id`.
- **Role Permissions (RBAC)**:
  - **Admin**: Strategic owner of the organization. Can invite, promote, and remove teammates.
  - **Recruiter**: Operational member who can manage jobs and communicate with candidates.
- **Administrative Guardrails**:
  - The system implements **Self-Locking** at both the UI and API levels, preventing an Admin from demoting themselves or removing their own account from the team to ensure the organization always has at least one person in control.
  - Role management and member detachment are restricted to current Admins.
- **High-Fidelity Interface**: The **Team Management** suite ([team/page.tsx](apps/web/src/app/dashboard/recruiter/organization/team/page.tsx)) features a high-density "Compact Profile" grid designed for rapid executive oversight and hierarchy management.

---

## 7. High-Trust Lifecycle Guardrails

To prevent process manipulation and ensure a high-quality experience for candidates, the platform enforces strict lifecycle rules.

### 7.1 Trigger-Level Transition Enforcement

A PostgreSQL trigger ([lifecycle_guardrails.sql](infra/scripts/lifecycle_guardrails.sql)) prevents recruiters from "skipping" critical stages.

- **The Gold Path**: `applied` → `shortlisted` → `interview_scheduled` → `offered`.
- **Validation**: Any attempt to move from `shortlisted` to `offered` without an intervening `interview_scheduled` status will result in a Database Level Error.

### 7.2 The Audit Trail

- **`job_application_status_history`**: A persistent log of every status change.
- **Verification UI**: Recruiters and candidates can view the "Application History" modal, showing exact timestamps and actors (Who moved the status and when).

### 7.3 Contextual Chat Locking

- **Bandwidth Protection**: Chat threads are locked for "Applied" candidates.
- **Auto-Unlock**: Messaging permissions are granted automatically when a candidate is **Shortlisted** or **Invited**, ensuring recruiters only spend time on high-potential talent.

---

## 8. Candidate Career Workspace (The Applications State Machine)

The dashboard provides a real-time, high-transparency view of the candidate's journey.

### 6.1 The Application Timeline

Every application follows a strict state-transition path to ensure clarity. The UI ([applications/page.tsx](apps/web/src/app/dashboard/candidate/applications/page.tsx)) maps these database states to a visual lifecycle:

- `recommended` → `applied` → `invited` → `shortlisted` → `interview_scheduled` → `offered` / `rejected`.

### 6.2 Closure & Feedback

- **Transparent Rejection**: When a recruiter rejects an application, the candidate receives a clear "Closed" status along with structured feedback (if provided by the recruiter).
- **History Tracking**: All past applications are archived with their final outcome, building a "Career Signal Log" for the user.

The scoring system is designed to be "loss-proof," ensuring a candidate's hard-earned high score is never accidentally lowered.

### 6.1 Database Schema

- **`assessment_sessions`**: Tracks live state (current question, experience band, total budget).
- **`assessment_responses`**: Stores individual answers and their 0.0–6.0 AI-assigned scores.
- **`profile_scores`**: The persistent table for normalized 0-100 categorical scores and the current high score.
- **`candidate_profiles`**: Global user status (`assessment_status`) and the definitive `final_profile_score` shown to recruiters.

### 6.2 Retake Architecture (Phase-by-Phase)

1.  **Phase A: Clean Slate**: On retake initiation, `assessment_sessions` and `assessment_responses` are wiped. However, `profile_scores` is preserved as a comparison backup.
2.  **Phase B: Evaluation**: Candidate completes the fresh set of questions (8–16 based on band).
3.  **Phase C: Best Score Comparison**:
    - Upon completion, the new calculated score is compared against the `existing_high_score` in `profile_scores`.
    - **Logic**: `final_score = max(new_score, existing_score)`.
    - Result: The user is never penalized for a poor retake; the dashboard only ever displays their best performance.

---

## 7. Recruiter Assessment System (Company DNA)

### 7.1 The Onboarding Intelligence (Auto-Bio)

To provide a seamless experience, TalentFlow implements **Company Intelligence Scraping** during the onboarding phase:

- **Trigger**: When the recruiter provides the company website URL.
- **Action**: The backend scrapes the homepage, sanitizes the content, and uses **Gemini 1.5 Flash** to extract a professional 2-3 sentence bio.
- **UX**: The recruiter reviews the generated bio and can **Keep**, **Edit**, or **Replace** it before proceeding. This ensures data accuracy while minimizing manual entry.

### 7.2 The 5 Pillars of Recruitment DNA

Each assessment consists of 5 questions, randomly selected from a bank of **125 questions** (25 per category):

1.  **Strategic Intent & Universal DNA**: Understanding the company's "Soul" and long-term vision.
2.  **Ideal Talent Archetype (ICP)**: Definitions of high performance beyond technical skills.
3.  **Ethical Integrity & Bias Neutralization**: Commitment to fairness and objective hiring.
4.  **Value Proposition & Talent Magnetism**: Ability to articulate non-monetary value.
5.  **Ownership & Outcome Accountability**: Personal responsibility for a hire's success.

### 7.2 The Objective Auditor (Gemini 1.5 Flash)

---

## 8. Controlled Chat (The Elite Hub)

### 8.1 Messaging Manifesto

TalentFlow messaging is not a social network; it is a high-stakes professional channel.

- **Recruiter Initiation**: Candidates cannot "Cold Message" recruiters. A thread is only created when a recruiter sends an **Elite Invite**.
- **The Elite Invite**: To open a chat, the recruiter MUST provide a personalized initiation message. Generic "Hi" messages are discouraged by the UI.
- **Single Persistence**: Only one thread exists per pair. If a recruiter closes a chat and re-opens it later, the history is preserved for audit.

### 8.2 Real-time Infrastructure

- **Provider**: Supabase Realtime (PostgreSQL Replication).
- **Latency Target**: Messages must appear in <200ms.
- **Implementation Status**: Fully operational for both Chat and Notifications.
- **Network Resilience**: API calls routed via `127.0.0.1` locally to bypass standard Windows `localhost` DNS resolution latency/errors.

### 8.3 Accountability & Moderation

- **Audit Button**: Every message has a "Report" action for candidates to flag unprofessional behavior.
- **Shadow Review**: Reported threads are flagged in the administrative backend for manual review.
- **Safe Mode**: Recruiters cannot delete messages once sent; transparency is absolute for security audits.

- **Unbiased Scoring**: Recruiter answers are graded on a **0-6 scale** based on structural signals rather than sentiment.
- **Grading Dimensions**: Relevance, Specificity, Clarity, and Ownership.
- **Normalization**: The final **Company Profile Score (CPS)** is normalized to a 0-100% scale.

### 7.3 Competitive Progress Model (Multi-Recruiter Handling)

TalentFlow handles companies with multiple recruiters through an inheritance/competition logic:

- **Baseline Inheritance**: If "Recruiter A" has already earned a CPS for the company, "Recruiter B" can skip the assessment and inherit that score.
- **High-Score Progress**: If a recruiter chooses to take the assessment despite a score existing, the system performs a `MAX(old_score, new_score)` comparison. The company's public CPS only updates if the new recruiter achieves a better score.
- **Teammate Identification**: Recruiters belonging to the same organization are identified via the `company_id` foreign key in the `recruiter_profiles` table.

### 7.4 Feature Gating & "Do It Later"

- **Postponement**: Recruiters can skip the assessment during onboarding by choosing "Do It Later."
- **Locking Logic**: If the company has **zero CPS** (no recruiter has taken it), dashboard features like job posting and talent discovery remain locked.
- **Unlock**: Features unlock once _any_ recruiter from the company completes the assessment and generates a score > 0.

### 7.5 Security: The "Nuclear Ban"

- **Monitoring**: Tab switching and window activity are strictly monitored during the recruiter assessment.
- **Enforcement**: 2 violations result in immediate disqualification and a permanent block. The user is added to the `blocked_users` table and their account status is set to `Blocked`.

---

## 9. Job Inventory & Lifecycle Management

### 9.1 The Jobs Posted Ecosystem

The "Jobs Posted" interface ([jobs/page.tsx](apps/web/src/app/dashboard/recruiter/hiring/jobs/page.tsx)) is the primary management hub for recruiter roles. It is designed to provide high-velocity control over the talent acquisition pipeline.

### 9.2 Lifecycle States

Every job role exists in one of three primary states:

- **Active**: Publicly visible in the Candidate Pool and matching algorithms. Signals readiness via a "Live Activity Ping".
- **Paused**: Hidden from public view but preserved for existing applicants. Used for internal deliberations or budget pauses.
- **Closed**: Archived role. No further applications accepted.

### 9.3 Logic & Guardrails

- **Unified Status Toggle**: Recruiters can instantly toggle between `Active` and `Paused` directly from the inventory card without navigating away.
- **Verification Gating**: Access to the job management interface is strictly gated by the **Presence Authenticity** check. If a recruiter has not completed the Company DNA assessment, the inventory is replaced with a `LockedView`.
- **Search & Filter**: Implements real-time omni-search logic allowing recruiters to manage high-volume role distributions (50+ active roles) with precision filtering by status, department, and location.
- **Metric Hydration**: Cards are architected to display live acquisition funnel metrics (total views vs. total applications) to provide immediate feedback on role resonance.

---

## 11. Acquisition Pipeline (The Applied Feature Hub)

### 11.1 Candidate Orchestration & Lifecycle

The Acquisition Pipeline ([applications/page.tsx](apps/web/src/app/dashboard/recruiter/hiring/applications/page.tsx)) is a high-fidelity "Openings & Talent" layout that prioritizes status oversight and role-based tracking.

### 11.2 Core Tracking Architecture

- **Current Openings Suite**: A horizontal grid of high-density cards at the top showing active roles, applicant counts, and "today's interest" signals. Optimized to fit 4 jobs per row on standard displays for rapid scanning.
- **Unified Talent Table**: A consolidated candidate matrix inspired by enterprise ERP designs.
  - **Applied Role Column**: Instantly identify which position a candidate is targeting.
  - **Elite Match Intelligence**:
    - **Signal**: Backend-calculated `is_skill_match` flags elite talent with a **Zap** icon.
    - **Transparency**: Hovering over match signals reveals the precise intersection of skills.
- **High-Fidelity Candidate Profile Hub**:
  - **Secure Resume Viewer**: Integrated Adobe-style PDF viewer using Supabase Signed URLs (1-hour expiry) to display private candidate resumes securely.
  - **Dual-View CV System**: Toggle between the platform's high-fidelity "Generated CV" (AI-standardized) and the candidate's "Original PDF."
  - **Skill Performance Matrix**: Visual breakdown of 0-6 dimensional assessment scores (Relevance, Specificity, Clarity, Ownership).
  - **Internal Star Ratings**: 1-5 star "Internal Rating" system for recruiter-only notes to standardize talent evaluation.

### 11.3 Interview Orchestration (Hybrid)

- **Virtual & Face-to-Face Support**: Specialized workflows for Video calls (Zoom/Google Meet) or On-site meetings with precise physical address/location inputs.
- **Multi-Slot Proposals**: Propose up to 3 time slots per candidate to minimize back-and-forth coordination.
- **Automated Room Generation**: Automatic generation of **Jitsi Meet** rooms for virtual sessions upon status transition.

### 11.4 Lifecycle & Process Controls

- **The Gold Path Guardrail**: A strict database-level state machine prevents "stage jumping" (e.g., Screening → Offer is blocked without an Interview Scheduled).
- **Audit Trail (Accountability Engine)**:
  - **Chronological Ledger**: Every status transition is logged in the `job_application_status_history` table.
  - **Manual Bridge**: Implements a redundant logging layer in the Python services to ensure every action—whether from a bulk recruiter update or a candidate submission—is captured with the correct `user_id`.
  - **Transparency**: Logs include old status, new status, the person who made the change, and any associated feedback/reasoning.
- **Automated Stage Badges**:
  - `Screening` (Applied/Shortlisted) → Amber
  - `Interview` (Interview Scheduled) → Cyan
  - `Offer` (Offered) → Rose
  - `Hired` (Closed) → Indigo
- **Shortlist Automation**: Shortlisting a candidate instantly unlocks the **Elite Hub** (Real-time Messaging).

---

## 12. Community & Social Synchronization (The Feed)

The Community Feed ([CommunityFeed.tsx](apps/web/src/components/CommunityFeed.tsx)) is the platform's professional social layer, designed to foster high-trust synchronization between recruiters and talent.

### 12.1 Broadcast Logic (Content Sharing)

The feed operates on a "Broadcast" model rather than a standard social post to maintain professional integrity.

- **Multimedia Streams**: Supports text, images (PNG/JPG), and videos (MP4/WEBM).
- **Storage Strategy**: Assets are isolated in the `community-media` bucket within `[user_id]` subdirectories to ensure per-user ownership and GDPR compliance.
- **Dynamic Media Grid**: Smart 1/2-column grid rendering that automatically optimizes based on attachment count.

### 12.2 Author Attribution & Identity

To ensure high-trust communication, every broadcast is heavily attributed:

- **Identity Badging**: Displays a specialized role badge (Recruiter vs. Candidate) colored by seniority/visibility norms.
- **Author Hydration**: Every post undergoes a backend "Deep Hydration" scan:
  - Joins `posts` with `users` (Role).
  - Joins with `candidate_profiles` or `recruiter_profiles` (Full Name/Photo).
  - Matches with the `follows` table (Relationship state).

### 12.3 The Professional "Follow" Engine

The platform implements a unidirectional follow mechanism (`follows` table):

- **Connect Action**: Recruiters can "connect" with high-value candidates directly from their broadcast.
- **Relationship Persistence**: Following a user curates the global feed content and updates reciprocal UI buttons.

### 12.4 Content Control & Ownership

- **Post Sovereignty**: Authors retain 100% control over their broadcasts.
- **Integrated Tooling**: Inline **Edit (Edit3)** and **Delete (Trash2)** actions are available for post owners directly within the feed UI.
- **Sanitized Deletion**: Removing a post removes all associated record entries, maintaining a clean architectural state.

---

## 13. Infrastructure Overview

- **Primary Model**: Gemini 1.5 Flash (for speed and semantic grading).
- **Secondary Model**: Gemini 1.5 Pro (for complex skill-based Case Studies for Leadership roles).
- **Backend**: Async Python (FastAPI).
- **Database**: Supabase (PostgreSQL) with Row-Level Security (RLS).
- **Frontend**: Next.js 15 with React 19 (App Router).
